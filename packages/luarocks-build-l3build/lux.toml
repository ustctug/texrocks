package = "luarocks-build-l3build"
version = "0.0.1"
lua = ">=5.1"

[description]
summary = "Build lua rock file by l3build's build.lua"
detailed = "Make TeX ecosystem available for lua ecosystem"
maintainer = "Wu"
labels = [ "texmf" ]
homepage = "https://texrocks.readthedocs.io/en/latest/topics/luarocks-build-l3build.md.html"
license = 'GPL-3.0'

[source]
# url = "https://github.com/ustctug/texrocks/archive/$(VERSION).zip"
# dir = "texrocks-$(VERSION)/packages/$(PACKAGE)"
url = "https://github.com/ustctug/texrocks/archive/4e0b7380bff85d588db24b286eadd6778a09139f.zip"
dir = "texrocks-4e0b7380bff85d588db24b286eadd6778a09139f/packages/$(PACKAGE)"

[dependencies]
luarocks = "3.12.2-1"
l3build = "2024.10.16-1"

[run]
command = "luarocks"

[test]
type = "command"
command = "luarocks"
flags = [ "build", "../../rockspecs/hyperref-7.01-15.rockspec" ]

[build]
type = "builtin"
